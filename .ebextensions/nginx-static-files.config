# .ebextensions/nginx-static-files.config
files:
  "/etc/nginx/conf.d/elasticbeanstalk-nginx-proxy.conf":
    mode: "000644"
    owner: root
    group: root
    content: |
      server {
        listen 80;

        location / {
          root /var/app/current/build; # Point Nginx to your built React app's directory
          try_files $uri /index.html =404; # Essential for React Router (SPA)
        }

        # Optional: Add caching headers for static assets
        location ~* \.(js|css|png|jpg|jpeg|gif|ico|woff|woff2|ttf|eot|svg)$ {
          root /var/app/current/build;
          expires max;
          log_not_found off;
        }
      }